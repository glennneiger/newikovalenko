<script type="text/x-handlebars-template" id="mapsvg-control-panel">
    <form id="mapform" action="" method="post" class="form-horizontal" autocomplete="off">

        <input type="hidden" name="save_mapsvg" value="1"/>
        <input type="hidden" id="default_width" value="{{default.width}}"/>
        <input type="hidden" id="default_height" value="{{default.height}}"/>
        <input type="hidden" id="default_viewbox_width" value="{{default.viewBox.[2]}}"/>
        <input type="hidden" id="default_viewbox_height" value="{{default.viewBox.[3]}}"/>
        <input type="hidden" name="map_id" value="{{map_id}}"/>

        <div class="tab-content" id="mapsvg-tabs">
            <!-- TAB 1 -->
            <div class="tab-pane active" id="tab_settings">
                <!-- MAIN SETTINGS -->
                <div class="form-group">
                    <label class="col-sm-3 control-label">File</label>
                    <div class="col-sm-9">
                        <input type="hidden" name="mapfile" value="{{svgFilename}}"/>
                        <input class="form-control" type="text" autocomplete="off" disabled="true" value="{{svgFilename}}"/>
                    </div>
                </div>



                <div class="form-group">
                    <label class="col-sm-3 control-label">Title</label>
                    <div class="col-sm-9">
                        <input class="form-control" type="text" autocomplete="off" name="title" value="{{title}}" data-live="keyup" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Width</label>
                    <div class="col-sm-9">
                        <input class="form-control" id="mapsvg-controls-width" type="text" autocomplete="off" name="width" value="{{width}}" autocomplete="off" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Height</label>
                    <div class="col-sm-9">
                        <input  class="form-control" id="mapsvg-controls-height" type="text" autocomplete="off" name="height" value="{{height}}"  autocomplete="off" />
                    </div>
                </div>


                <div class="form-group">
                    <div class="col-sm-3"></div>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons">
                            <label class="btn btn-default active">
                                <input name="lockAspectRatio" data-live="change" type="checkbox" id="mapsvg-controls-ratio" autocomplete="off" {{#if lockAspectRatio}}checked{{/if}} /> <i class="fa fa-lock"></i> Lock aspect ratio
                            </label>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">Start position</label>
                    <div class="col-sm-9">
                        <div class="input-group">
                            <input data-live="change" name="initialViewBox" class="form-control" type="text" autocomplete="off" disabled="" id="mapsvg-controls-viewbox" value="{{#each viewBox}}{{this}} {{/each}}"/>
                                <span class="input-group-btn">
                            <button class="btn btn-default" id="mapsvg-controls-set-viewbox">Set current</button>
                            <button class="btn btn-default" id="mapsvg-controls-reset-viewbox">Reset</button>
                                </span>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class=" col-sm-3 control-label">Responsive</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-object="options" data-toggle="buttons"  id="mapsvg-controls-responsive">
                            <label class="btn disabled btn-default {{#if responsive}}active{{/if}}">
                                <input type="radio" disabled/>
                                 On
                            </label>
                            <label class="btn disabled btn-default {{#unless responsive}}active{{/unless}}">
                                <input type="radio" disabled/>
                                Off
                            </label>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">Scroll</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-scroll">
                            <label class="btn btn-default {{#if scroll.on}}active{{/if}}">
                                <input type="radio" name="scroll[on]" value="1" {{#if scroll.on}}checked{{/if}} data-live="change"/>
                                On
                            </label>
                            <label class="btn btn-default {{#unless scroll.on}}active{{/unless}}">
                                <input type="radio" name="scroll[on]" value="0" {{#unless scroll.on}}checked{{/unless}} data-live="change"/>
                                Off
                            </label>
                        </div>

                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Zoom</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-zoom">
                            <label class="btn btn-default {{#if zoom.on}}active{{/if}}">
                                <input type="radio" name="zoom[on]" value="1" {{#if zoom.on}}checked{{/if}} data-live="change"/>
                                On
                            </label>
                            <label class="btn btn-default {{#unless zoom.on}}active{{/unless}}">
                                <input type="radio" name="zoom[on]" value="0" {{#unless zoom.on}}checked{{/unless}} data-live="change"/>
                                Off
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group" id="mapsvg-global-popovers">
                    <label class="col-sm-3 control-label">Global popovers</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-popovers-mode">
                            <label class="btn btn-default disabled {{#ifeq popovers.mode 'off'}}active{{/ifeq}}">
                                <input type="radio" disabled/>
                                Off
                            </label>
                            <label class="btn btn-default disabled {{#if_function popovers.mode}}active{{/if_function}}">
                                <input type="radio" disabled/>
                                Function
                            </label>
                        </div>
                    </div>
                </div>


                <div class="form-group" id="mapsvg-global-tooltips">
                    <label class="col-sm-3 control-label">Global tooltips</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-tooltips-mode">
                            <label class="btn btn-default {{#ifeq tooltips.mode 'off'}}active{{/ifeq}}">
                                <input type="radio" name="tooltips[mode]" value="off"  {{#ifeq tooltips.mode 'off'}}checked{{/ifeq}} data-live="change"/>
                                Off
                            </label>
                            <label class="btn btn-default  {{#ifeq tooltips.mode 'id'}}active{{/ifeq}}">
                                <input type="radio" name="tooltips[mode]" value="id"  {{#ifeq tooltips.mode 'id'}}checked{{/ifeq}} data-live="change"/>
                                SVG id
                            </label>
                            <label class="btn btn-default {{#ifeq tooltips.mode 'title'}}active{{/ifeq}}">
                                <input type="radio" name="tooltips[mode]" value="title"  {{#ifeq tooltips.mode 'title'}}checked{{/ifeq}} data-live="change"/>
                                SVG title
                            </label>
                            <label class="disabled btn btn-default {{#if_function tooltips.mode}}active{{/if_function}}">
                                <input type="radio" disabled/>
                                Function
                            </label>
                        </div>
                        <textarea rows="5" name="tooltips[mode]" data-live="change" data-event="tooltips" id="mapsvg-global-tooltip-function" class="mapsvg-function-radio-extra mapsvg-function-textarea form-control" data-validate="function">{{#if_function tooltips.mode}}{{{toString tooltips.mode}}}{{/if_function}}</textarea>

                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Cursor</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-cursor">
                            <label class="btn btn-default  {{#ifeq cursor 'default'}}active{{/ifeq}}">
                            <input type="radio" name="cursor" value="default" {{#ifeq cursor 'default'}}checked{{/ifeq}} data-live="change"/>
                            <i class="fa fa-mouse-pointer"></i>
                            </label>
                            <label class="btn btn-default  {{#ifeq cursor 'pointer'}}active{{/ifeq}}">
                            <input type="radio" name="cursor" value="pointer" {{#ifeq cursor 'pointer'}}checked{{/ifeq}} data-live="change"/>
                            <i class="fa fa-hand-pointer-o"></i>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Multi Select</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-multiselect">
                            <label class="btn btn-default {{#if multiSelect}}active{{/if}}">
                                <input type="radio" name="multiSelect" value="1" {{#if multiSelect}}checked{{/if}} data-live="change"/>
                                On
                            </label>
                            <label class="btn btn-default  {{#unless multiSelect}}active{{/unless}}">
                                <input type="radio" name="multiSelect" value="0" {{#unless multiSelect}}checked{{/unless}} data-live="change"/>
                                Off
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Disable all regions</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-disableAll">
                            <label class="btn btn-default {{#if disableAll}}active{{/if}}">
                                <input type="radio" name="disableAll" value="1" {{#if disableAll}}checked{{/if}} data-live="change"/>
                                On
                            </label>
                            <label class="btn btn-default  {{#unless disableAll}}active{{/unless}}">
                                <input type="radio" name="disableAll" value="0" {{#unless disableAll}}checked{{/unless}} data-live="change"/>
                                Off
                            </label>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">Gauge</label>
                    <div class="col-sm-9">
                        <div class="btn-group" data-toggle="buttons" id="mapsvg-controls-gauge">
                            <label class="disabled btn btn-default {{#if gauge.on}}active{{/if}}">
                                <input type="radio" disabled/>
                                On
                            </label>
                            <label class="disabled btn btn-default {{#unless gauge.on}}active{{/unless}}">
                                <input type="radio" disabled/>
                                Off
                            </label>
                        </div>
                        <p class="help-block">Creates <a href="https://en.wikipedia.org/wiki/Choropleth_map" target="_blank">choropleth map</a></p>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Menu</label>
                    <div class="col-sm-9">
                        <div class="btn-group mapsvg-toggle-visibility" data-toggle="buttons" data-toggle-visibility="#mapsvg-menu-group">
                            <label class="disabled btn btn-default {{#if menu.on}}active{{/if}}">
                                <input type="radio" disabled/>
                                On
                            </label>
                            <label class="disabled btn btn-default {{#unless menu.on}}active{{/unless}}">
                                <input type="radio" disabled/>
                                Off
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-sm-3 control-label">Preloader text</label>
                    <div class="col-sm-9">
                        <input type="text" autocomplete="off" class="form-control" id="mapsvg-controls-preloader-text" name="loadingText" value="{{loadingText}}" data-live="keyup"/>
                    </div>
                </div>
            </div>

            <!-- TAB 2 -->
            <!-- COLORS -->

            <div class="tab-pane" id="tab_colors">
                <div class="form-group">
                    <label class="col-sm-3 control-label">Background</label>
                    <div class="col-sm-9">
                        <div class="input-group cpicker" data-color-name="background">
                            <span class="input-group-addon"><i></i></span>
                            <input type="text" autocomplete="off" class=" form-control" name="colors[background]" value="{{colors.background}}"  data-live="change"/>
                        </div>
                        <!--<p class="help-block">Enter "transparent" for transparent background.</p>-->
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Base</label>
                    <div class="col-sm-9">
                        <div class="input-group cpicker" data-color-name="base">
                            <span class="input-group-addon"><i></i></span>
                            <input type="text" autocomplete="off" class=" form-control" name="colors[base]" value="{{colors.base}}"  data-live="change"/>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">Disabled</label>
                    <div class="col-sm-9">
                        <div class="input-group cpicker" data-color-name="disabled">
                            <span class="input-group-addon"><i></i></span>
                            <input class=" form-control" type="text" autocomplete="off" name="colors[disabled]" value="{{colors.disabled}}"  data-live="change"/>
                        </div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="col-sm-3 control-label">Strokes</label>
                    <div class="col-sm-9">

                        <div class="input-group cpicker" data-color-name="stroke">
                            <span class="input-group-addon"><i></i></span>
                            <input class=" form-control" type="text" autocomplete="off" name="colors[stroke]" value="{{colors.stroke}}"  data-live="change"/>
                        </div>
                    </div>
                </div>


                <div class="form-group" id="mapsvg-colors-hover">
                    <label class="col-sm-3 control-label">Hover</label>
                    <div class="col-sm-9">
                        <div class="btn-group mapsvg-color-brightness" data-object="options" data-toggle="buttons" style="margin-bottom: 15px;">
                            <label class="btn btn-default {{#if_string colors.hover}}active{{/if_string}}">
                                <input type="radio" name="hoverMode" value="color" {{#if_string colors.hover}}checked{{/if_string}}/>
                                Color
                            </label>
                            <label class="disabled btn btn-default {{#if_number colors.hover}}active{{/if_number}}">
                                <input type="radio" disabled/>
                                Brightness
                            </label>
                        </div>

                        <div class="input-group cpicker" data-color-name="hover" {{#if_number colors.hover}}style="display:none;"{{/if_number}}>
                            <span class="input-group-addon"><i></i></span>
                            <input class="form-control" type="text" autocomplete="off" name="colors[hover]" value="{{#if_string colors.hover}}{{colors.hover}}{{/if_string}}"  data-live="change"/>
                        </div>

                    </div>
                </div>

                <div class="form-group" id="mapsvg-colors-selected">
                    <label class="col-sm-3 control-label">Selected</label>
                    <div class="col-sm-9">
                        <div class="btn-group mapsvg-color-brightness" data-object="options" data-toggle="buttons"  id="mapsvg-controls-selected" style="margin-bottom: 15px;">
                            <label class="btn btn-default  {{#if_string colors.selected}}active{{/if_string}}">
                                <input type="radio" name="selectedMode" value="color" {{#if_string colors.selected}}checked{{/if_string}}/>
                                Color
                            </label>
                            <label class="disabled btn btn-default {{#if_number colors.selected}}active{{/if_number}}">
                                <input type="radio" disabled/>
                                Brightness
                            </label>
                        </div>

                        <div class="input-group cpicker" data-color-name="selected" {{#if_number colors.selected}}style="display:none;"{{/if_number}}>
                            <span class="input-group-addon"><i></i></span>
                            <input class="form-control" type="text" autocomplete="off" name="colors[selected]" value="{{#if_string colors.selected}}{{colors.selected}}{{/if_string}}" data-live="change"/>
                        </div>

                    </div>
                </div>


            </div>

            <!-- TAB 3 -->
            <!-- REGIONS -->
            <div class="tab-pane" id="tab_regions">

                <div id="mapsvg-search-regions-no-matches" class="well well-sm" style="display: none;">No matches</div>
                <table class="table table-striped {{#if gauge.on}}mapsvg-gauge-on{{/if}}" id="table-regions">
                    <tbody>
                    {{#each regions}}
                        <tr id="mapsvg-region-{{id}}" data-region-id="{{id}}" class="mapsvg-region-row">
                            <td>
                                <div class="mapsvg-region-names">
                                    <div class="mapsvg-region-id">{{id}}</div>
                                    <div class="mapsvg-region-title">{{title}}</div>
                                </div>
                            </td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>

            <!-- TAB 4 -->
            <!-- MARKERS -->
            <div class="tab-pane tab-markers" id="tab_markers">
                <div id="mapsvg-search-markers-no-matches" class="well well-sm" style="display: none;">No matches</div>
                <table class="table table-striped" id="table-markers">
                    <caption>
                        <div class="alert alert-info">
                            Lite version is limited to 5 markers.
                        </div>
                    </caption>
                    <tbody>
                        {{#each markers}}
{{> markerPartial  isSafari=../isSafari markerImages=../markerImages}}
                        {{/each}}
                    </tbody>
                </table>

            </div>

            <div class="tab-pane" id="tab_events">
                <div class="alert alert-info">
                    Custom event handlers are available in Premium version.
                </div>
                <ul id="mapsvg-menu"></ul>
                <!-- EVENTS -->
                <div class="form-group">
                    <label class="col-sm-3 control-label">onClick</label>
                    <div class="col-sm-9">
                        <textarea disabled="disabled" class="disabled form-control" data-event="onClick" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">mouseOver</label>
                    <div class="col-sm-9">
                        <textarea disabled="disabled" class="disabled form-control" data-event="onClick" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">mouseOut</label>
                    <div class="col-sm-9">
                        <textarea disabled="disabled" class="disabled form-control" data-event="onClick" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">beforeLoad</label>
                    <div class="col-sm-9">
                        <textarea disabled="disabled" class="disabled form-control" data-event="onClick" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-3 control-label">afterLoad</label>
                    <div class="col-sm-9">
                        <textarea disabled="disabled" class="disabled form-control" data-event="onClick" rows="3"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </form>
</script>

<script type="text/x-handlebars-template" id="mapsvg-handlebars-region-list">
    {{#each regions}}
        {{> regionPartial}}
    {{/each}}
</script>

<script type="text/x-handlebars-template" id="mapsvg-handlebars-region">
    <div class="mapsvg-region-fields">
        <div class="form-group">
            <div class="btn-group" data-toggle="buttons">
                <label class="btn btn-default btn-sm {{#if disabled}}active{{/if}}" >
                    <input type="checkbox" class="region_disable  mapsvg-region-disabled" name="regions[{{id}}][disabled]" {{#if disabled}}checked{{/if}} data-live="change"/><i class="fa fa-ban"></i> Disable
                </label>
                <!--<label class="btn btn-default btn-sm {{#if selected}}active{{/if}}">-->
                    <!--<input type="checkbox" value="1" class="region_select  mapsvg-region-selected" name="regions[{{id}}][selected]"  {{#if selected}}checked{{/if}}/><i class="fa fa-mouse-pointer"></i> Selected-->
                <!--</label>-->
            </div>
        </div>

            <div class="form-group">
                <form>
                    <label class="control-label">Color</label>
                    <div class="disabled cpicker input-group">
                        <span class="input-group-addon"><i></i></span>
                        <input disabled="disabled" data-toggle="tooltip" data-placement="left" title="Available in Premium version" placeholder="Available in Premium version" class=" input-small form-control mapsvg-region-color" type="text" autocomplete="off" name="regions[{{id}}][fill]" value="{{fill}}"/>
                    </div>
                </form>
            </div>

            <div class="form-group">
                <label class="control-label">Tooltip</label>
                <textarea class="form-control mapsvg-region-tooltip" name="regions[{{id}}][tooltip]" data-live="keyup">{{tooltip}}</textarea>
                <p class="help-block">Get Premium version if you need HTML support</p>
            </div>

            <div class="form-group">
                <label class="control-label">Popover</label>
                <textarea class="form-control mapsvg-region-popover"   name="regions[{{id}}][popover]" data-live="keyup">{{popover}}</textarea>
                <p class="help-block">Get Premium version if you need HTML support</p>
            </div>

        <div class="form-group">
            <form>
            <label class="control-label">Link</label>
            <div class="input-group">
                  <input class="form-control mapsvg-region-link" type="text" autocomplete="off" placeholder="http://" name="regions[{{id}}][href]" value="{{href}}" data-live="keyup"/>
                  <span class="input-group-addon">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" class="mapsvg-region-link-tab"  name="regions[{{id}}][target]"  value="blank" {{#ifeq target "blank"}}checked{{/ifeq}}  data-live="change" /> New tab
                        </label>
                    </div>
                  </span>
            </div>
            </form>
        </div>



        <div class="form-group">
            <label class="control-label">Data</label>
            <textarea class="form-control mapsvg-region-data" name="regions[{{id}}][data]" data-live="keyup">{{toString data}}</textarea>
        </div>
      </div>
</script>

<script type="text/x-handlebars-template" id="mapsvg-handlebars-marker">
    <tr id="mapsvg-marker-{{id}}" class="mapsvg-marker-row" data-marker-id="{{id}}">
        <td>
            <div class="mapsvg-region-id">{{id}}</div>
            <button type="button" class="btn btn-xs btn-default mapsvg-marker-delete">Delete</button>
        </td>
        <td>
            <div class="form-group">
                <label class="control-label">ID</label>
                <div class="input-group">
                    <input type="text" autocomplete="off" class="form-control mapsvg-marker-id" value="{{id}}">
                    <span class="input-group-btn mapsvg-marker-id-save-container" data-toggle="tooltip" data-placement="left" title="You can hit Enter&#9166; to set ID" >
                        <button type="button" class="btn btn-default mapsvg-marker-id-save"  type="button" >Set</button>
                    </span>
                </div>
            </div>

            {{#if geoCoords}}
                <div class="form-group">
                    <label class="control-label">Lat/Lon coordinates</label>
                    <input type="text" autocomplete="off" class="form-control mapsvg-marker-geocoords" name="markers[{{id}}][geoCoords]" value="{{#if geoCoords}}{{geoCoords.[0]}}, {{geoCoords.[1]}}{{/if}}"  placeholder="lat,lon" data-live="keyup"/>
                </div>
            {{/if}}

            <div class="form-group">
                <label class="control-label">Image</label>
                <div class="disabled">
                <select disabled="disabled" class="form-control">
                    <option>Available in Premium version</option>
                </select>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label">Tooltip</label>
                <textarea class="form-control mapsvg-marker-tooltip" name="markers[{{id}}][tooltip]" data-live="keyup">{{tooltip}}</textarea>
                <p class="help-block">Get Premium version if you need HTML support</p>
            </div>

            <div class="form-group">
                <label class="control-label">Popover</label>
                <textarea class="form-control mapsvg-marker-popover" name="markers[{{id}}][popover]" data-live="keyup">{{popover}}</textarea>
                <p class="help-block">Get Premium version if you need HTML support</p>
            </div>

            {{#if isSafari}}<form>{{/if}}
            <div class="form-group">
                <label class="control-label">Link</label>
                <div class="input-group">
                    <input class="form-control mapsvg-marker-link" type="text" autocomplete="off" placeholder="http://" name="markers[{{id}}][href]" value="{{href}}" data-live="keyup"/>
                      <span class="input-group-addon">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" class="mapsvg-marker-target"  name="markers[{{id}}][target]" value="blank" {{#ifeq target "blank"}}checked{{/ifeq}}  data-live="change"/> New tab
                            </label>
                        </div>
                      </span>
                </div>
            </div>
            {{#if isSafari}}</form>{{/if}}

            <div class="form-group">
                <label class="control-label">Data</label>
                <textarea class="form-control mapsvg-marker-data" name="markers[{{id}}][data]" data-live="keyup">{{toString data}}</textarea>
            </div>
        </td>
    </tr>
</script>
